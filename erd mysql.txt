CREATE TABLE `TipoProblema` (
  `problema_ID` INT AUTO_INCREMENT,
  `tipoProblema` VARCHAR(50),
  `tiempoRespuestaEstimado` INT,
  PRIMARY KEY (`problema_ID`)
) ENGINE=InnoDB;


CREATE TABLE `TipoServicio` (
  `servicio_ID` INT AUTO_INCREMENT,
  `tipoServ` VARCHAR(50),
  PRIMARY KEY (`servicio_ID`)
) ENGINE=InnoDB;

CREATE TABLE `EspecialidadesTecnicas` (
  `especial_ID` INT AUTO_INCREMENT,
  `especial` VARCHAR(50),
  PRIMARY KEY (`especial_ID`)
) ENGINE=InnoDB;

CREATE TABLE `Tecnicos` (
  `Tecnico_ID` INT AUTO_INCREMENT,
  `Nombre` VARCHAR(50),
  `Especialidad` Varchar(50),
  `Mail` VARCHAR(50),
  `Tel` VARCHAR(50),
  PRIMARY KEY (`tecnico_ID`),
  FOREIGN KEY (`especialidad`) REFERENCES `EspecialidadesTecnicas`(`especial`)
) ENGINE=InnoDB;

CREATE TABLE `Solucion` (
  `solucion_ID` INT AUTO_INCREMENT,
  `solucion` VARCHAR(100),
  `descrpSolucion` TEXT,
  PRIMARY KEY (`solucion_ID`)
) ENGINE=InnoDB;

CREATE TABLE `Clientes` (
  `cliente_ID` INT AUTO_INCREMENT,
  `razonS` VARCHAR(50),
  `cuit` VARCHAR(50),
  `tipoServicio` INT,
  PRIMARY KEY (`cliente_ID`),
  FOREIGN KEY (`tipoServicio`) REFERENCES `TipoServicio`(`tipoServ`)

) ENGINE=InnoDB;

CREATE TABLE `Incidentes` (
  `incidente_ID` INT AUTO_INCREMENT,
  `cliente` VARCHAR(50),
  `servicio` VARCHAR(50),
  `descripcion` VARCHAR(50),
  `esComplejo` TINYINT(1),
  `tipoProblema`VARCHAR(50),
  `estado` VARCHAR(50),
  `fechaCreacion` DATE,
  `fechaINI` DATE,
  `fechaFIN` DATE,
  `solucion` VARCHAR(50),
  `tecnico` VARCHAR(50),
  `descripSolucion` VARCHAR(100),
  PRIMARY KEY (`incidente_ID`),
  FOREIGN KEY (`solucion`) REFERENCES `Solucion`(`solucion`),
  FOREIGN KEY (`tecnico`) REFERENCES `Tecnicos`(`razonS`),
  FOREIGN KEY (`cliente`) REFERENCES `Clientes`(`cliente_ID`),
  FOREIGN KEY (`tipoProblema`) REFERENCES `TipoProblema`(`problema_ID`)
) ENGINE=InnoDB;

CREATE TABLE `Clientes_TipoServicio` (
  `id` INT AUTO_INCREMENT,
  `cliente_ID` INT,
  `servicio_ID` INT,
  PRIMARY KEY (`id`),
  FOREIGN KEY (`cliente_ID`) REFERENCES `Clientes`(`cliente_ID`),
  FOREIGN KEY (`servicio_ID`) REFERENCES `TipoServicio`(`servicio_ID`)
) ENGINE=InnoDB;

CREATE TABLE `Tecnicos_Especialidades` (
  `id` INT AUTO_INCREMENT,
  `tecnico_ID` INT,
  `especial_ID` INT,
  PRIMARY KEY (`id`),
  FOREIGN KEY (`tecnico_ID`) REFERENCES `Tecnicos`(`Tecnico_ID`),
  FOREIGN KEY (`especial_ID`) REFERENCES `EspecialidadesTecnicas`(`especial_ID`)
) ENGINE=InnoDB;

